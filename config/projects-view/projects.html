<section class="projects">

	<h2>Projects</h2>
	
	<p ng-hide="showEditor" ng-if="!projects[0]">{{actionText}}</p>
	
	<ul ng-if="projects[0]">
	
		<li ng-repeat="project in projects | reverse" class="project-list-item">
		
			<span class="action-buttons">
			
			 	<button ng-click="editProject(projects.length - $index - 1)">Edit</button>
			 	
			 	<button style="color:#E00;" ng-click="deleteProject(projects.length - $index - 1)">X</button>
			 	
			</span>
			
			<a href="projects/{{project.projectId}}">{{project.projectName}}</a>
			
			<img ng-if="project.projectLogo" onerror="this.style.display='none'" ng-src="../projects/{{project.projectRootPath}}/{{project.projectLogo}}" />
			
			<br>
			
			<span class="details">Project Folder: 
				<span class="faded">Dlvr/projects/{{project.projectRootPath}}</span>
			</span>
			
			<span class="details faded" ng-if="project.configNightTheme">
				Use Night Theme
			</span>
			
			<span class="details">Revised: 
				<span class="faded">{{project.revisionStamp | date : 'short'}}</span>
			</span>
			
		</li>
		
	</ul>
	
	<p ng-hide="showEditor"><button ng-click="createProject(true)">New Project</button></p>
	
	<form class="create-project" ng-show="showEditor" name="projectEditor">
	
		<legend>Enter Project Details:</legend>
		
		<label>Url: <input placeholder="project-id" name="url" ng-model="projectId" project-id required>
		
			<span class="error" ng-show="projectEditor.url.$error.required">Required!</span>
			
			<span class="error" ng-show="projectEditor.url.$error.projectId">
				Alphanumeric and _ and - only, please.
			</span>
			
		</label>
		
		<label>Project Name: <input placeholder="Project Name" name="pname"  ng-model="projectName" project-name required>
		
			<span class="error" ng-show="projectEditor.pname.$error.required">Required!</span>
			
			<span class="error" ng-show="projectEditor.pname.$error.projectName">
				Alphanumeric, spaces, and - only, please.
			</span>
			
		</label>
		
		<label>Project Folder: Dlvr/projects/ <input placeholder="folder-name" name="fname" ng-model="projectRootPath" folder-name required>
		
			<span class="error" ng-show="projectEditor.fname.$error.required">Required!</span>
			
			<span class="error" ng-show="projectEditor.fname.$error.folderName">
				Alphanumeric and _ and - and / only, please.
			</span>
		
		</label>
		
		<label>Project Logo Filename: <input placeholder="logo-filename.png" name="logofile" ng-model="projectLogo" logo-filename> <small>( .jpg .png .gif )</small>
			 <span class="error" ng-show="projectEditor.logofile.$error.logoFilename">
				Alphanumeric and _ and - and / only, please.
			</span>
		</label>
		
		<label>Use Night theme: <input type="checkbox"
		ng-model="configNightTheme"></label>
		
		<br>
		
		<input type="submit" class="save" value="Save Project" ng-click="writeProject()">
		
		<input type="reset" class="cancel" value="Cancel" ng-click="showEditor=false">
		
	</form>
	
	<p ng-class="{feedback: feedback, fail: fail}" class="centered" ng-bind-html="feedback"></p>
	
</section>